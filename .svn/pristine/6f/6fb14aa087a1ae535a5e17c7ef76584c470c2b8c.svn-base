<html>
	<head>
	<title>Placeholder Properties</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta content="noindex, nofollow" name="robots">
	<link href="../../../../../ext-2.0.2/resources/css/ext-all.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="../../../../../mootools.js"></script>
	<script type="text/javascript" src="../../../dialog/common/fck_dialog_common.js"></script>
	<script type="text/javascript" src="../../../../../ext-2.0.2/adapter/ext/ext-base.js"></script>
	<script type="text/javascript" src="../../../../../ext-2.0.2/ext-all.js"></script>
	<script src="../../../../../../dwr/interface/ChannelManagerService.js" type="text/javascript"></script>
	<script src="../../../../../../dwr/interface/CoreFormService.js" type="text/javascript"></script>
	<script src="../../../../../../dwr/engine.js" type="text/javascript"></script>
	<script type="text/javascript" src="../component.js"></script>
	<script type="text/javascript" src="../js/staticlist.js"></script>
	<script type="text/javascript" src="../../../../../attachment/attachment.js"></script>
	<script type="text/javascript" src="../../../../../attachment/xml.js"></script>	
	<script language="javascript">
		new StaticList ().handleDialog ();
var start=0;
var end=0;
  function savePos(textBox){
             if(typeof(textBox.selectionStart) == "number")
             {
               start = textBox.selectionStart;
               end = textBox.selectionEnd;
             }
             else if(document.selection)
             {
                var range = document.selection.createRange();
               if(range.parentElement().id == textBox.id)
                { 
		 var range_all = document.body.createTextRange();
		 range_all.moveToElementText(textBox); 
		 range_all.collapse(true);  
		 range_all.setEndPoint("StartToStart", range);   
		 start= range_all.text.length;
		 
		 range_all.collapse(true);  
		 range_all.setEndPoint("StartToEnd", range);  
  		 end = range_all.text.length;
             }
          }
}
	</script>
	</head>
	<body scroll="no" style="OVERFLOW: hidden">
		<form>
			<table height="100%" cellSpacing="0" cellPadding="0" width="100%" border="0">
				<tr>
					<td valign="top">
						<div id="basicView">
							<table width="100%">
								<tr>
									<td nowrap="nowrap">
										<span fckLang="DlgChannelName">频道名称：</span>
									</td>
									<td width="100%" colspan="2">
									<input type="hidden" id="keyID"/>
										<input type="text" id="channelValueField" style="display:none" />
										<input type="text" id="channelTextField" style="width: 50%" readonly="readonly" />
										<img id="popupImg" src="../images/popup.png" style="cursor: pointer" />
									</td>
								</tr>
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgSiteIsPagination">显示信息类型：</span></td>
									<td nowrap="nowrap" colspan="2"> 
									<select id="infotype" style="width: 50%">
										<option value="0" selected="selected">当前频道</option>
										<option value="1" >子频道</option>
									</select>
									</td> 
								</tr>
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgUserIsPagination">是否分页：</span></td>
									<td width="100%" colspan="2">
										<select id="paginationField" style="width: 50%">
											<option value="true" selected="selected">是</option>
											<option value="false">否</option>
										</select>
									</td>
								</tr>
								<tr>
									<td nowrap="nowrap"><span>展现方式：</span></td>
									<td width="100%" colspan="2">
										<select id="tableView" style="width: 50%">
											<option value="true" selected="selected">系统默认</option>
											<option value="false">自定义</option>
										</select>
									</td>
								</tr>
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgUserPageViewNumber">显示的条数：</span></td>
									<td width="100%" colspan="2">
										<input id="pageSizeField" style="width: 50%" type="text" value="10" />
									</td>
								</tr>
								
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgUserSearchString">查询条件：</span></td>
									<td width="100%" colspan="2">
										<input id="whereField" style="width: 50%" type="text" />
									</td>
								</tr>
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgUserOrderbyField">排序字段：</span></td>
									<td width="40%">
										<input id="orderByField" type="text" />
									</td>
									<td width="60%" align="left">
										<select id="sortOrderField">
											<option value="ascending" selected="selected">升序</option>
											<option value="descending">降序</option>
										</select>
									</td>
								</tr>
								<tr>
									<td nowrap="nowrap"><span fckLang="DlgUserViewFields">列表显示字段：</span></td>
									<td width="40%" nowrap="nowrap">
										<input id="availableDisplayFieldInput" type="text" />
									</td>
									<td width="60%" align="left" >
									<button id="addFieldButton">添加</button>
									<button id="removeFieldButton">移除</button>
									
										
									</td>
								</tr>
								<tr>
						<td>&nbsp;<span fckLang="DlgUserOnclick" >类型：</span></td>
						<td colspan="2">
							<select id="typeField" style="width: 50%">
								<option value="text">文本</option>
								<option value="link">链接</option>
								<option value="date">日期</option>
								
								
							</select>
						</td>
					</tr>	
					<tr id="formatDate" style="display:none">
						<td>&nbsp;格式类型：</td>
						<td colspan="2">
						<select id="formatField" style="width:50%" >
							<option value="yyyy-MM-dd" selected="selected" >yyyy-MM-dd</option>
							<option value="dd/MM/yyyy">dd/MM/yyyy</option>
							<option value="yyyy年MM月dd日">yyyy年MM月dd日</option>
							<option value="HH:mm:ss">HH:mm:ss</option>
							<option value="HH时mm分ss秒">HH时mm分ss秒</option>
							<option value="yyyy-MM-dd HH:mm:ss">yyyy-MM-dd HH:mm:ss</option>
							<option value="yyyy年MM月dd日 HH时mm分ss秒">yyyy年MM月dd日 HH时mm分ss秒</option>
						</select>
						</td>
					</tr>	
					<tr id="pathHolder" style="display:none">
						<td>&nbsp;<span fckLang="DlgUserOnclick" >路径：</span></td>
						<td colspan="2">
						<textarea id="pathField" style="width:50%" cols="20"/>docInfo!view.action?id=${id}</textarea>
							<br>
						<span>在新窗口打开：</span>
						<input type="checkbox" id="linkOpenInNewWindowField" />	
						</td>
					</tr>		
					<tr>
									<td>&nbsp;<span fckLang="DlgUserOnclick" >显示字段：</span></td>
									<td colspan="2">
									<select id="displayFieldSelect" multiple="multiple" size="8" style="width:100%" />
									</td>
								</tr>	
								
							</table>
						</div>
						
						<div id="titleView" style="display: none">
							
						</div>
						<div id="extendView" style="display: none">
						
                                                <table width="100%">
                                                <tr>
									<td align="center"><span>列表内容</span></td>
									</tr>
									
								<tr>
									
									<td width="100%">
										<textarea id="texthtml" style="width: 100%" rows="12" cols="20"></textarea>
									</td>
								</tr>		
								 <tr>
									<td align="center"><span>分页内容</span></td>
									</tr>
									
								<tr>
									
									<td width="100%">
										<textarea id="pagehtml" style="width: 100%" rows="8" cols="20"></textarea>
									</td>
								</tr>		
								<tr>
								<td><button onclick="writeHtml();">显示内容</button>
									</td>
									</tr>						
							</table>
						</div>
						<div id="privilegeScriptView" style="display: none"></div>
					</td>
				</tr>
			</table>
		</form>
	</body>
</html>
<script type="text/javascript">
function writeHtml()
{
var str = "";
var pageSize;
pageSize = $("pageSizeField").value;
var keyID = $("keyID").value;
if(keyID == "")
$("keyID").value = keyID = new Date().getTime();
str += "<table width=\"100%\" id=\"XML#xmldso\" DATASRC='#xmldso' DATAPAGESIZE="+pageSize+">";
str += "<tr>";
$A($("displayFieldSelect").options).each (function (option)
			{
			var json = Json.evaluate(option.value);
			str += "<td><span DATAFLD='"+json.property+"'></span></td>";
			});
str += "</tr></table>";
$("texthtml").value = str;
writePage();
}
		function updateHolders ()
		{
			$("formatDate").style.display = $("typeField").getValue () == "date" ? "inline" : "none";
			$("pathHolder").style.display = $("typeField").getValue () == "link" || $("typeField").getValue () == "news" ? "inline" : "none";
		}
		
		$("typeField").addEvent ("change", function ()
		{
			updateHolders ();
		});
		
function writePage()
{
var str = "<table><tr>";
str += "<td><input type=\"button\" value=\"首页\" onClick=\"$('XML#xmldso').firstPage();\"></td>";
str += "<td><input type=\"button\" value=\"上一页\" onClick=\"$('XML#xmldso').previousPage();\"></td>";
str += "<td><input type=\"button\" value=\"下一页\" onClick=\"$('XML#xmldso').nextPage();\"></td>";
str += "<td><input type=\"button\" value=\"最后一页\" onClick=\"$('XML#xmldso').lastPage();\"></td>";  
str +="</tr></table>";    
$("pagehtml").value = str;
}

		
</script>